<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<f:view>
<h:head><link href="css/main.css" rel="stylesheet" type="text/css" />

<script type="text/javascript">
PrimeFaces.locales['zh_CN'] = {
    closeText: '关闭',
    prevText: '上个月',
    nextText: '下个月',
    currentText: '今天',
    monthNames: ['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],
    monthNamesShort: ['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],
    dayNames: ['星期日','星期一','星期二','星期三','星期四','星期五','星期六'],
    dayNamesShort: ['日','一','二','三','四','五','六'],
    dayNamesMin: ['日','一','二','三','四','五','六'],
    weekHeader: '周',
    firstDay: 1,
    isRTL: false,
    showMonthAfterYear: true,
    yearSuffix: '', // 年
    timeOnlyTitle: '仅时间',
    timeText: '时间',
    hourText: '时',
    minuteText: '分',
    secondText: '秒',
    ampm: false,
    month: '月',
    week: '周',
    day: '日',
    allDayText : '全天'
};
</script>

</h:head>
<div class="header-top" > </div>
<div class="l ptl40X10">北京高地经典房地产评估有限责任公司河南省分公司
<br/>BEIJING GAODIJINGDIAN FANGDICHAN PINGGU GUANLI XITONG</div>
<span class="r ptr10X15">
<a onclick="logout();" style="cursor: pointer;" title="退出">
<img src="images/i_right.gif"/></a>
</span>
<span class="r ptr10X15">
<p:outputLabel >
#{login.password}&nbsp;&nbsp;#{login.name}，欢迎您使用高地经典房地产评估系统。</p:outputLabel>
</span> 
<div class="clear"></div>
<div class="header-tool"><h1 class="logo"><a href="#" class="l pl10"><img src="images/logo_jd.png"/>案件查询</a></h1>
</div>
<div class="clear"></div>

	<h:form>

		<div style="background:#ccc; color:#262626;">
			<table style="font-weight:bold;" width="98%" border="0" cellspacing="0" cellpadding="0">
				<tr>&#160;&#160;&#160;&#160;&#160;&#160;&#160;</tr>
				<tr>
					<td align="right">房屋位置</td>
					<td align="left">
						<p:inputText value="#{ProjectBrowse.searchPj.houseXy}" maxlength="100" />
					</td>
					<td align="right">建筑面积</td>
					<td align="left">
						<p:inputText value="#{ProjectBrowse.searchPj.houseAearMin}" size="5" maxlength="5" ><f:convertNumber pattern="#0.000" /></p:inputText>
						~
						<p:inputText value="#{ProjectBrowse.searchPj.houseAearMax}" size="5" maxlength="5" />
					</td>
					<td align="right">评估总价</td>
					<td align="left">
						<p:inputText value="#{ProjectBrowse.searchPj.prePriceMin}" size="5" maxlength="15" />
							~
						<p:inputText value="#{ProjectBrowse.searchPj.prePriceMax}" size="5" maxlength="15" />
					</td>
					<td align="right">成交总价</td>
					<td align="right">
						<p:inputText value="#{ProjectBrowse.searchPj.sellPriceMin}" size="5" maxlength="15"/>
						~
						<p:inputText value="#{ProjectBrowse.searchPj.sellPriceMax}" size="5" maxlength="15" />
					</td>
					<td align="right">业务来源：</td>
					<td align="left">
						<p:inputText value="#{ProjectBrowse.searchPj.projectSource}" />
					</td>
					<td align="right">流程：</td>
					<td>
					<h:selectOneMenu value="#{ProjectBrowse.searchPj.node}" styleClass="select">  
		       					<f:selectItem itemLabel="全部" />
		       					<f:selectItem itemLabel="已归档" itemValue="已归档"/>
		       					<f:selectItem itemLabel="现场勘查" itemValue="现场勘查"/>
		       					<f:selectItem itemLabel="预评撰写" itemValue="预评撰写"/>
		       					<f:selectItem itemLabel="预评审查" itemValue="预评审查"/>
		       					<f:selectItem itemLabel="预评审批" itemValue="预评审批"/>
		       					<f:selectItem itemLabel="出具预评报告" itemValue="出具预评报告"/>
		       					<f:selectItem itemLabel="出具正式报告" itemValue="出具正式报告"/>
		       					<f:selectItem itemLabel="送达报告" itemValue="送达报告"/>
		       		</h:selectOneMenu>
					</td>
				</tr>
				<tr>
					<td align="right">成交时间</td>
						<td align="left">
						<p:calendar pattern="yyyy年MM月dd日"  locale="zh_CN" size="6" value="#{ProjectBrowse.searchPj.sellDateMin}" showButtonPanel="true" navigator="true" />
						至
						<p:calendar pattern="yyyy年MM月dd日" locale="zh_CN" size="6" value="#{ProjectBrowse.searchPj.sellDateMax}" showButtonPanel="true" navigator="true"/>
					</td >
					<td align="right">建成时间</td>
						<td align="left">
						<p:calendar pattern="yyyy年MM月dd日"  locale="zh_CN"  size="6"  value="#{ProjectBrowse.searchPj.buildDateMin}" showButtonPanel="true" navigator="true" />至
						<p:calendar pattern="yyyy年MM月dd日"  locale="zh_CN" size="6"  value="#{ProjectBrowse.searchPj.buildDateMax}" showButtonPanel="true" navigator="true" />
					</td >
					<td align="right">结构</td>
					<td align="left">
						<h:selectOneMenu value="#{ProjectBrowse.searchPj.houseConstruction}" styleClass="select">  
	       					<f:selectItem itemLabel="全部" />
	       					<f:selectItem itemLabel="钢混" itemValue="0"/>
	       					<f:selectItem itemLabel="混合" itemValue="1"/>
       					</h:selectOneMenu>
					</td>
					<td align="right">装修：</td>
					<td>
					<h:selectOneMenu value="#{ProjectBrowse.searchPj.houseDecoration}" styleClass="select">  
		       					<f:selectItem itemLabel="全部" />
		       					<f:selectItem itemLabel="精装" itemValue="0"/>
		       					<f:selectItem itemLabel="简装" itemValue="1"/>
		       		</h:selectOneMenu>
					</td>
					<td align="right">收费：</td>
					<td>
					<h:selectOneMenu value="#{ProjectBrowse.searchPj.pingguMoney}" styleClass="select">  
		       					<f:selectItem itemLabel="全部" />
		       					<f:selectItem itemLabel="未收费" itemValue="0"/>
		       					<f:selectItem itemLabel="已收费" itemValue="1"/>
		       		</h:selectOneMenu>
					</td>
					
				</tr>
				<tr>
					<td align="right">编号：</td>
					<td >
						<p:inputText value="#{ProjectBrowse.searchPj.projectCode}" />
					</td>
					<td align="right">买方：</td>
					<td align="left">
						<p:inputText value="#{ProjectBrowse.searchPj.sellerName}" />
					</td>
					<td align="right">卖方：</td>
					<td align="left">
						<p:inputText value="#{ProjectBrowse.searchPj.buyerName}" />
					</td>
					<td align="right">房产证号：</td>
					<td align="left">
						<p:inputText value="#{ProjectBrowse.searchPj.houseNumber}" />
					</td>
					<td align="right">工作人员：</td>
					<td align="left">
						<p:inputText value="#{ProjectBrowse.worker}" />
						<p:outputLabel>历史任务：</p:outputLabel>
						<p:selectBooleanCheckbox  value="#{ProjectBrowse.htask}" />
					</td>
					<td colspan="1" align="right"><h:commandLink value="查询"
						styleClass="i-search" id="submit" action="#{ProjectBrowse.SearchAction}"> 
					</h:commandLink> 
					<a class="i-search" href="projectAdd.faces" >添加</a>
					<a class="i-search" href="menu.faces" >返回</a>
					</td>
				</tr>
			</table>
		</div>
		<div style="height:80%; overflow-x:hidden;overflow-y:auto;" class="kj-main" id="kj">
		<p:dataTable emptyMessage="没有记录" scrollable="true" width="98%" id="tb1" headerClass="Freezing" rows="9" paginator="true"
		value="#{ProjectBrowse.allprj}"
			styleClass="wap1" var="prj">
			<p:column style="width:45px">
				<f:facet name="header">
				<h:outputText value="当前阶段"></h:outputText>
				</f:facet>
				<h:outputText value="#{prj.curStatus}" id="nodename" ></h:outputText>&#160;
			</p:column>
			<p:column style="width:30px">
				<f:facet name="header">
				<h:outputText value="收费"></h:outputText>
				</f:facet>
				<h:outputText value="#{(prj.pingguMoney==0) ? '未收费' : '已收费'}" id="hasmoney" />
			</p:column>
			<p:column style="width:80px">
				<f:facet name="header">
				<h:outputText value="编号"></h:outputText>
				</f:facet>
				<h:outputText value="#{prj.projectCode}" id="prjcode" />&#160;
			</p:column>
			
			<p:column style="width:30px">
				<f:facet name="header">
					<h:outputText value="卖方"></h:outputText>
				</f:facet>
				<h:outputText value="#{prj.buyerName}" ></h:outputText>
			&#160;
			</p:column>
			<p:column style="width:30px">
				<f:facet name="header">
					<h:outputText value="买方"></h:outputText>
				</f:facet>
				<h:outputText value="#{prj.sellerName}" ></h:outputText>&#160;
			</p:column>
			<p:column style="width:100px">
				<f:facet name="header">
					<h:outputText value="产权证号"></h:outputText>
				</f:facet>
				<h:outputText value="#{prj.houseNumber}" ></h:outputText>
				&#160;
			</p:column>
			<p:column style="width:80px">
				<f:facet name="header">
					<h:outputText value="成交日期"></h:outputText>
				</f:facet>
				<h:outputText value="#{prj.sellDate}"><f:convertDateTime pattern="yyyy年MM月dd日" timeZone="GMT+8"/></h:outputText>
			</p:column>
			<p:column style="width:45px">
				<f:facet name="header">
					<h:outputText value="建筑面积"></h:outputText>
				</f:facet>
				<h:outputText value="#{prj.houseArea}"/>m²
			</p:column>
			<p:column style="width:60px">
				<f:facet name="header">
					<h:outputText value="评估价"></h:outputText>
				</f:facet>
				<h:outputText value="#{prj.houseEvaluateSingle}" />元/平<br/>
				<h:outputText value="#{prj.houseEvaluateTotal}" />元
			</p:column>
			<p:column style="width:60px">
				<f:facet name="header">
					<h:outputText value="成交价"></h:outputText>
				</f:facet>
				<h:outputText value="#{prj.houseFinalSingle}" />元/平<br/>
				<h:outputText value="#{prj.houseFinalTotal}" />元
			</p:column>
			<p:column style="width:25px">
				<f:facet name="header">
					<h:outputText value="楼层"></h:outputText>
				</f:facet>
				<h:outputText value="#{prj.houseAtLayer}" />/
				<h:outputText value="#{prj.houseLayers}" />层
			</p:column>
			<p:column style="width:200px">
				<f:facet name="header">
					<h:outputText value="房屋地址"></h:outputText>
				</f:facet>
				
				<p:inputTextarea readonly="true" rows="2" cols="39" value="#{prj.houseXy}" />
			</p:column>
			<p:column style="width:45px">
				<f:facet name="header">
					<h:outputText value="建成年代"></h:outputText>
				</f:facet>
				<h:outputText value="#{prj.houseDate}"><f:convertDateTime pattern="yyyy年" timeZone="GMT+8"/></h:outputText>
			</p:column>
			<p:column style="width:20px">
				<f:facet name="header">
					<h:outputText value="结构"></h:outputText>
				</f:facet>
				<h:outputText value="#{(prj.houseConstruction==0) ? '钢混' : '混合'}"></h:outputText>
			</p:column>
			<p:column style="width:20px">
				<f:facet name="header">
					<h:outputText value="装修"></h:outputText>
				</f:facet>
				<h:outputText value="#{(prj.houseDecoration==0) ? '精装' : '简装'}"></h:outputText>
			</p:column>
			<p:column style="width:80px">
				<f:facet name="header">
					<h:outputText value="业务来源"></h:outputText>
				</f:facet>
				<h:outputText value="#{prj.projectSource}" />
			</p:column>
			<p:column style="width:30px">
				<h:commandLink action="projectAdd.faces" value ="详细" actionListener="#{ProjectBrowse.EditAction}" >
					<f:attribute  name="projectId" value="#{prj.idprojectFy}"/>
					<f:attribute name="nodeName" value="#{prj.curStatus}"/>
				</h:commandLink>
			</p:column>
			<p:column style="width:30px">
				<h:commandLink action="showprjtrace.faces" value ="流程" immediate="true" actionListener="#{ProjectBrowse.ShowTrace}" >
					<f:attribute name="projectCode" value="#{prj.projectCode}"/>
					<f:attribute name="nodeName" value="#{prj.curStatus}"/>
					<f:attribute name="ProcessInstanceId" value="#{prj.processInstanceId}"/>
				</h:commandLink>
			</p:column>
			<p:column style="width:30px">
				<h:commandLink actionListener="#{ProjectBrowse.DeleteAction}" 
				onclick="delConfirm();" value="删除" immediate="true" >
					<f:attribute name="projectId" value="#{prj.idprojectFy}"/>
					<f:attribute name="ProcessInstanceId" value="#{prj.processInstanceId}"/>
				</h:commandLink>
			</p:column>
		</p:dataTable></div>
		
	</h:form>
	<ui:include src="foot.xhtml"/>
</f:view>
<script language="javascript" type="text/javascript">
//<![CDATA[
			function modify(id){
				window.open("projectAdd.faces?projectid=" + id);
				//window.location.href = "projectAdd.jsp?projectid=" + id;
			}
			
			function delConfirm() {
				if(window.confirm("您确定要执行删除操作吗?"))
					return true;
				else
					return false;
			}	
		 	function logout(){		
				window.top.location.href=("./login.faces");	
			}
//]]>
</script>
</html>

	


